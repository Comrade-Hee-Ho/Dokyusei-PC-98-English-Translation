(mes
 (meta (engine 'AI5) (charset "pc98") (dictbase 128))
 (dict)
 (set-arr~ @ 7 1)
 (set-arr~ @ 3 0)
 (set-arr~ @ 2 45056)
 (sound 1)
 (set-var I 50)
 (proc 26)
 (set-arr~ @ 7 1)
 (set-var A (+ (~ Z 23) 1))
 (set-var X (~ A 0))
 (set-var Y (~ A 1))
 (set-arr~ @ 6 2)
 (set-arr~ @ 1 4096)
 (image "chip3.pd8")
 (set-arr~ @ 6 2)
 (set-arr~ @ 1 4096)
 (image "den.pd8")
 (set-arr~ @ 6 0)
 (set-arr~ @ 7 1)
 (load "town1.mp" 4096)
 (field 15 4096)
 (field 0)
 (load "den0.c5" (+ Z 40))
 (field 1)
 (if-else (== (: 147) 0) (<> (field 14 1 1)) (<> (field 14 1 0)))
 (if-else (== (: 148) 0) (<> (field 14 2 1)) (<> (field 14 2 0)))
 (set-var A (+ (~ Z 23) 1))
 (if (== N 0) (<> (field 10 0)))
 (if (== N 1) (<> (field 10 1)))
 (field 2)
 (field 3)
 (field 5)
 (palette 3)
 (delay 500)
 (set-var A (+ (~ Z 23) 1))
 (set-var X (~ A 0))
 (set-var Y (~ A 1))
 (set-var D (/ (~b A 9) 2))
 (if-else (== N 0)
   (<>
    (set-var I 0)
    (while
     (!= I 82)
     (<>
      (set-var X (- X 1))
      (set-arr~ A 0 X)
      (if (> I 5) (<> (set-arr~ Z 13 (- (~ Z 13) 1))))
      (set-arr~b A 9 (&& (+ (* (/ (~b A 9) 2) 2) (+ (&& (~b A 9) 1) 1)) 1))
      (field 2)
      (field 3)
      (field 5)
      (delay W)
      (set-var I (+ I 1)))))
   (<>
    (set-var I 0)
    (while
     (!= I 82)
     (<>
      (set-var X (+ X 1))
      (set-arr~ A 0 X)
      (if (> I 5) (<> (set-arr~ Z 13 (+ (~ Z 13) 1))))
      (set-arr~b A 9 (&& (+ (* (/ (~b A 9) 2) 2) (+ (&& (~b A 9) 1) 1)) 1))
      (field 2)
      (field 3)
      (field 5)
      (delay W)
      (set-var I (+ I 1))))))
 (delay 500))